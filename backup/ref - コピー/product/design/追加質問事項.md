# 追加質問事項

**作成日**: 2025-11-22
**最終更新日**: 2025-11-22

## 概要

answer.txtの回答により多くの疑問点が解消されましたが、実装を進める上でより詳細な仕様確認が必要な項目をリストアップします。

## 回答済み項目（2025-11-22）

以下の項目は回答を受け取り、仕様書に反映済みです:
- ✅ Q1-3: 職業初期値のレベル成長詳細 → 02_ステータスシステム.md に反映
- ✅ Q2-1: 武器ランク逆算の詳細 → 03_装備システム.md に反映
- ✅ Q2-4: アクセサリーの計算式（Forge） → 03_装備システム.md に反映
- ✅ Q3-3: スキルの未定義パラメータ → 05_ダメージ計算.md、06_スキルシステム.md に反映
- ✅ Q4-2: 武器種対応CSVの構造 → 06_スキルシステム.md に反映
- ✅ Q5-1: 探索範囲の制約 → 07_その他システム.md、09_最適化システム.md に反映
- ✅ Q5-2: 探索アルゴリズム → 09_最適化システム.md に反映

---

## 1. 職業・SPシステム

### Q1-1. 職業レベルとキャラクターレベルの関係
**質問**:
- 職業レベルとキャラクターレベルは同一ですか?
- それとも職業ごとに独立したレベルが存在しますか?
- 転職システムはありますか?

**確認したい理由**:
- レベル管理の実装方針に影響
- 複数職業を育成する場合の仕様が不明

**現状の理解**:
- 職業CSVには最大レベルの定義がある
- JobConst.yamlにも MaxLevel が必要（未定義）

---

### Q1-2. SPツリーのリセット機能
**質問**:
- SP割り振りをリセットする機能は必要ですか?
- リセット時にペナルティはありますか?

**確認したい理由**:
- UI設計に影響
- データ保存の仕様に影響

---

### ✅ Q1-3. 職業初期値のレベル成長詳細（回答済み）
**回答**:
- 初期値行の「10」は「レベル1時に+10」（初期レベルが1）
- レベル成長は「初期値×レベル」で計算

**反映先**: 02_ステータスシステム.md

---

## 2. 装備システム

### ✅ Q2-1. 武器ランク逆算の詳細（回答済み）
**回答**:
- 全ステータス（攻撃力、会心率、会心ダメージ、CT等すべて）を逆算
- 逆算の計算式は武器のステータス計算定義（YAML）をもとに導出

**反映先**: 03_装備システム.md

---

### Q2-2. 叩きの回数制限
**質問**:
- 叩き回数に上限はありますか?
- ステータスごとに個別の上限がありますか?
- 合計回数の上限がありますか?

**確認したい理由**:
- UI上のバリデーションに必要

**現状の理解**:
- 仕様書では暫定的に999を上限としている

---

### Q2-3. EX装備の詳細
**質問**:
- EX装備はどの装備カテゴリに属しますか?
  - 防具?
  - アクセサリー?
  - 両方?
- EX列が存在する条件は?

**確認したい理由**:
- データ構造の理解が不十分

**現状の理解**:
- answer.txtでは「アクセサリ、防具に」とあるが、詳細不明

---

### ✅ Q2-4. アクセサリーの計算式（回答済み）
**回答**:
- 正しい計算式: `ROUNDUP(Initial.<Stat> + AvailableLv * Rank.<Stat> / 550)`
- UserStatusCalc.yamlの `Forge.<Stat>` は誤記で、`Rank.<Stat>` が正しい

**反映先**: 03_装備システム.md

---

## 3. ダメージ計算

### Q3-1. 通常攻撃のヒット数
**質問**:
- 「ヒット数は1で計算でよい」とありますが:
  - すべての武器種で1ヒットですか?
  - 特定の武器種で複数ヒットはありませんか?

**確認したい理由**:
- 将来的な拡張性の考慮

---

### Q3-2. ダメージ補正のランダム範囲の扱い
**質問**:
- 最適化ページでの探索時、ダメージ補正はどう扱いますか?
  - 最小値?
  - 最大値?
  - 平均値?
  - ユーザー選択?

**確認したい理由**:
- 最適化アルゴリズムの設計に影響

---

### ✅ Q3-3. スキルの未定義パラメータ（回答済み）
**回答**:
- `<AgilityFactor>` 等は実際のステータス名に置き換え
- `<AgilityFactor>` → `Agility`（素早さ）
- `<MagicFactor>` → `Magic`（魔力）

**反映先**: 05_ダメージ計算.md、06_スキルシステム.md

---

## 4. スキルシステム

### Q4-1. スキルの取得状態の保存
**質問**:
- 職業スキルの取得状態は保存されますか?
  - SP投資だけで自動的に取得扱い?
  - 明示的な取得操作が必要?

**確認したい理由**:
- データ管理の仕様に影響

---

### ✅ Q4-2. 武器種対応CSVの構造（回答済み）
**回答**:
- 今後作成予定
- スキル名、対応武器種（複数）の形式
- 1スキルが複数武器種に対応可能

**反映先**: 06_スキルシステム.md

---

### Q4-3. バフスキルの効果時間
**質問**:
- バフスキルの効果時間（Duration）は火力計算に影響しますか?
  - DPS計算時に考慮?
  - 単に情報表示のみ?

**確認したい理由**:
- 計算ロジックの実装方針に影響

---

## 5. 最適化システム

### ✅ Q5-1. 探索範囲の制約（回答済み）
**回答**:
- ユーザが装備モードまたはステータスモードで固定する条件を指定
- 武器ランクはSSS固定

**反映先**: 07_その他システム.md、09_最適化システム.md

---

### ✅ Q5-2. 探索アルゴリズム（回答済み）
**回答**:
- 早いほう（総当たりかヒューリスティックかは実装時に判断）

**反映先**: 09_最適化システム.md

---

### Q5-3. 結果の表示件数
**質問**:
- 最適化結果は何件まで表示しますか?
  - 上位10件?
  - 上位100件?
  - ユーザー指定?

**確認したい理由**:
- UIとパフォーマンスに影響

---

## 6. リングシステム（未実装）

### Q6-1. リングの効果定義
**質問**:
- リングの効果は%のみですか?
  - 固定値の加算はありますか?
  - 特殊効果（会心率+10など）はありますか?

**確認したい理由**:
- データ構造の事前設計

---

### Q6-2. リングの収束計算の上限
**質問**:
- 収束計算の最大反復回数は100回で適切ですか?
- 収束しない場合のエラー処理は?

**確認したい理由**:
- 無限ループ防止の実装

---

## 7. UI/UX

### Q7-1. ビルドの保存・共有機能
**質問**:
- ビルドを保存・共有する機能は必要ですか?
  - ローカルストレージ?
  - サーバー保存?
  - URL共有?

**確認したい理由**:
- 実装範囲の明確化

**現状の理解**:
- 01_システム概要.mdでは「将来的な拡張」として記載

---

### Q7-2. リアルタイム計算のパフォーマンス
**質問**:
- キャラビルドページでリアルタイム計算を行う際:
  - 入力のたびに計算?
  - デバウンス（一定時間待機）?
  - 明示的な「計算」ボタン?

**確認したい理由**:
- ユーザー体験とパフォーマンスのバランス

---

### Q7-3. モバイル対応
**質問**:
- モバイル端末での利用を想定していますか?
  - レスポンシブデザイン必須?
  - PC専用でOK?

**確認したい理由**:
- UI設計の方針に影響

---

## 8. データ管理

### Q8-1. データ更新の頻度
**質問**:
- 装備・スキルデータは頻繁に更新されますか?
  - 週次?
  - 月次?
  - 不定期?

**確認したい理由**:
- キャッシュ戦略とデータ管理方法の選定

---

### Q8-2. 複数バージョンのデータ管理
**質問**:
- 過去のバージョンのデータを保持する必要はありますか?
  - ゲームのアップデートでデータが変わる場合
  - 過去のビルドを再現したい場合

**確認したい理由**:
- データ管理の複雑性に影響

---

## 9. その他

### Q9-1. エラーメッセージの言語
**質問**:
- エラーメッセージやUI表示は日本語のみですか?
  - 多言語対応の予定は?

**確認したい理由**:
- i18n対応の必要性判断

---

### Q9-2. デバッグ機能
**質問**:
- デバッグログ機能は必要ですか?
  - 計算過程の表示
  - エラーログのダウンロード

**確認したい理由**:
- 開発・保守の効率化

**現状の理解**:
- rule.mdには管理者ページの一部として記載あり

---

### Q9-3. パフォーマンス要件
**質問**:
- 各ページの表示・計算時間の目標は?
  - ステータス計算: 何ミリ秒以内?
  - 火力計算: 何秒以内?
  - 最適化探索: 何秒以内?

**確認したい理由**:
- アルゴリズム選定とパフォーマンス最適化の基準

---

## 優先度付け

### ✅ 高優先度（実装前に必須）- 全て回答済み
- ✅ Q1-3: 職業初期値のレベル成長詳細
- ✅ Q2-1: 武器ランク逆算の詳細
- ✅ Q2-4: アクセサリーの計算式（Forge）
- ✅ Q3-3: スキルの未定義パラメータ
- ✅ Q4-2: 武器種対応CSVの構造
- ✅ Q5-1: 探索範囲の制約
- ✅ Q5-2: 探索アルゴリズム

### 中優先度（早期に確認したい）
- Q1-1: 職業レベルとキャラクターレベルの関係
- Q2-2: 叩きの回数制限
- Q3-1: 通常攻撃のヒット数
- Q3-2: ダメージ補正のランダム範囲の扱い
- Q5-3: 結果の表示件数
- Q7-2: リアルタイム計算のパフォーマンス

### 低優先度（将来的に確認）
- Q1-2: SPツリーのリセット機能
- Q2-3: EX装備の詳細
- Q4-1: スキルの取得状態の保存
- Q4-3: バフスキルの効果時間
- Q6-1: リングの効果定義
- Q6-2: リングの収束計算の上限
- Q7-1: ビルドの保存・共有機能
- Q7-3: モバイル対応
- Q8-1: データ更新の頻度
- Q8-2: 複数バージョンのデータ管理
- Q9-1: エラーメッセージの言語
- Q9-2: デバッグ機能
- Q9-3: パフォーマンス要件

---

## 改訂履歴

| 版 | 日付 | 変更内容 | 担当者 |
|:---|:---|:---|:---|
| 1.1 | 2025-11-22 | 高優先度項目の回答を反映、回答済み項目をマーク | Claude |
| 1.0 | 2025-11-22 | 初版作成 | Claude |
